    \begin{tikzpicture}
      [yscale=2, auto]
      \begin{scope}
        \node [comment, xshift=-0.5cm]   at (-1, 3) {$A_0$};

        \node                 (top)      at ( 0, 3) {};
        \node [mdd node=3]    (l2n0)     at ( 0, 2) {$x_2$\nodepart{two}0\nodepart{three}1};
        \node [mdd node=3]    (l1n0)     at (-1, 1) {$x_1$\nodepart{two}0\nodepart{three}1};
        \node [mdd node=3]    (l1n1)     at ( 1, 1) {$x_1$\nodepart{two}0\nodepart{three}1};
        \node [terminal node] (terminal) at ( 0, 0) {0};

        \draw [regular edge]  (top)                      to node        {0} (l2n0);
        \draw [regular edge]  (l2n0.two   |- l2n0.south) to node        {0} (l1n0);
        \draw [regular edge]  (l2n0.three |- l2n0.south) to node [swap] {0} (l1n1);
        \draw [regular edge]  (l1n0.two   |- l1n0.south) to node [swap] {0} (terminal);
        \draw [regular edge]  (l1n0.three |- l1n0.south) to node        {1} (terminal);
        \draw [regular edge]  (l1n1.two   |- l1n1.south) to node [swap] {1} (terminal);
        \draw [regular edge]  (l1n1.three |- l1n1.south) to node        {2} (terminal);
      \end{scope}

      \begin{scope}[xshift=6.5cm]
        \node                 (top')      at ( 0, 3) {};
        \node [mdd node=3]    (l2n0')     at ( 0, 2) {$x_2$\nodepart{two}0\nodepart{three}1};
        \node [mdd node=3]    (l1n0')     at (-1, 1) {$x_1$\nodepart{two}0\nodepart{three}1};
        \node [mdd node=3]    (l1n1')     at ( 1, 1) {$x_1$\nodepart{two}0\nodepart{three}1};
        \node [terminal node] (terminal') at ( 0, 0) {0};

        \draw [regular edge]  (top')                       to node        {0} (l2n0');
        \draw [regular edge]  (l2n0'.two   |- l2n0'.south) to node        {0} (l1n0');
        \draw [regular edge]  (l2n0'.three |- l2n0'.south) to node [swap] {1} (l1n1');
        \draw [regular edge]  (l1n0'.two   |- l1n0'.south) to node [swap] {0} (terminal');
        \draw [regular edge]  (l1n0'.three |- l1n0'.south) to node        {1} (terminal');
        \draw [regular edge]  (l1n1'.two   |- l1n1'.south) to node [swap] {0} (terminal');
        \draw [regular edge]  (l1n1'.three |- l1n1'.south) to node        {1} (terminal');
      \end{scope}

      \begin{scope}[xshift=12cm]
        \node [comment, xshift=-0.5cm]     at ( 0, 3) {$A_1$};

        \node                 (top'')      at ( 0, 3) {};
        \node [mdd node=3]    (l2n0'')     at ( 0, 2) {$x_2$\nodepart{two}0\nodepart{three}1};
        \node [mdd node=3]    (l1n0'')     at ( 0, 1) {$x_1$\nodepart{two}0\nodepart{three}1};
        \node [terminal node] (terminal'') at ( 0, 0) {0};

        \draw [regular edge]  (top'')                        to node        {0} (l2n0'');
        \draw [regular edge]  (l2n0''.two   |- l2n0''.south) to node [swap] {0} (l1n0'');
        \draw [regular edge]  (l2n0''.three |- l2n0''.south) to node        {1} (l1n0'');
        \draw [regular edge]  (l1n0''.two   |- l1n0''.south) to node [swap] {0} (terminal'');
        \draw [regular edge]  (l1n0''.three |- l1n0''.south) to node        {1} (terminal'');
      \end{scope}

      \begin{pgfonlayer}{background}
        \node [yscale=2] (r1) [diagram background, fit=(top)(l2n0)(l1n0)(l1n1)(terminal)] {};
        \node [yscale=2] (r2) [diagram background, fit=(top')(l2n0')(l1n0')(l1n1')(terminal')] {};
        \node [yscale=2] (r3) [diagram background, fit=(top'')(l2n0'')(l1n0'')(terminal'')] {};
      \end{pgfonlayer}

      \draw [shorten >=1mm,-to,thick,decorate,
      decoration={snake,amplitude=.4mm,segment length=2mm,
        pre=moveto,pre length=1mm,post length=2mm}]
      (r1) -- (r2) node [above=1mm,midway,text width=2cm,text centered]
      {report up $\val{n[0]}$};
      \draw [shorten >=1mm,-to,thick,decorate,
      decoration={snake,amplitude=.4mm,segment length=2mm,
        pre=moveto,pre length=1mm,post length=2mm}]
      (r2) -- (r3) node [above=1mm,midway,text width=2cm,text centered]
      {merge duplicate nodes};
    \end{tikzpicture}
